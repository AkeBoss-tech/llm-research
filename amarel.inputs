############################################################################
____ _  _ ____ ____ ____ _      ____ ___   ____ _  _ ___ ____ ____ ____ ____ 
|__| |\/| |__| |__/ |___ |      |__|  |    |__/ |  |  |  | __ |___ |__/ [__  
|  | |  | |  | |  \ |___ |___   |  |  |    |  \ |__|  |  |__] |___ |  \ ___]

        Welcome to the AMAREL research computing cluster managed by
   the Office of Advanced Research Computing (OARC) at Rutgers University
                          http://oarc.rutgers.edu

Need help? Send an e-mail to help@oarc.rutgers.edu

User documentation: https://sites.google.com/view/cluster-user-guide

Do NOT run programs, tests, analyses, or pre/postprocessing on the shared
login nodes (amarel1, amarel2, etc.). That's what compute nodes are for.

############################################################################

[ad2046@amarel1 ~]$ ls
docs  projects
[ad2046@amarel1 ~]$ cd docs
[ad2046@amarel1 docs]$ ls
[ad2046@amarel1 docs]$ cd ..
[ad2046@amarel1 ~]$ cd projects/
[ad2046@amarel1 projects]$ ls
[ad2046@amarel1 projects]$ cd ..
[ad2046@amarel1 ~]$ cd ~
[ad2046@amarel1 ~]$ ls
docs  projects
[ad2046@amarel1 ~]$ git clone https://github.com/AkeBoss-tech/llm-research llm-research
Cloning into 'llm-research'...
remote: Enumerating objects: 658, done.
remote: Counting objects: 100% (463/463), done.
remote: Compressing objects: 100% (109/109), done.
remote: Total 658 (delta 371), reused 369 (delta 351), pack-reused 195 (from 1)
Receiving objects: 100% (658/658), 758.95 KiB | 0 bytes/s, done.
Resolving deltas: 100% (418/418), done.
[ad2046@amarel1 ~]$ cd llm-research
[ad2046@amarel1 llm-research]$ ls
AMAREL_INSTRUCTIONS.md    index.html      run1000.sh                tasks
dev                       LICENSE         run_gsm8k_eval_amarel.sh  test_hf_model.py
eval_gsm8k_all_models.py  nanochat        rustbpe                   tests
exploration               pyproject.toml  scripts                   uv.lock
generate_eval_summary.py  README.md       speedrun.sh               visualize_gsm8k_results.py
[ad2046@amarel1 llm-research]$ # 2. Submit job
[ad2046@amarel1 llm-research]$ sbatch run_gsm8k_eval_amarel.sh
 3. Check results (after job completes)
ls -lh /scratch/$USER/gsm8k_eval_results/job_JOBID/
# OR if /scratch not available:
ls -lh ~/gsm8k_eval_results/job_JOBID/Submitted batch job 48609675
[ad2046@amarel1 llm-research]$ 
[ad2046@amarel1 llm-research]$ # 3. Check results (after job completes)
[ad2046@amarel1 llm-research]$ ls -lh /scratch/$USER/gsm8k_eval_results/job_JOBID/
ls: cannot access /scratch/ad2046/gsm8k_eval_results/job_JOBID/: No such file or directory
[ad2046@amarel1 llm-research]$ # OR if /scratch not available:
[ad2046@amarel1 llm-research]$ ls -lh ~/gsm8k_eval_results/job_JOBID/
ls: cannot access /home/ad2046/gsm8k_eval_results/job_JOBID/: No such file or directory
[ad2046@amarel1 llm-research]$ ls -lh /scratch/$USER/gsm8k_eval_results/job_JOBID/
ls: cannot access /scratch/ad2046/gsm8k_eval_results/job_JOBID/: No such file or directory
[ad2046@amarel1 llm-research]$ sacct
JobID           JobName  Partition    Account  AllocCPUS      State ExitCode 
------------ ---------- ---------- ---------- ---------- ---------- -------- 
48609675     gsm8k_eval        gpu    general          8     FAILED      1:0 
48609675.ba+      batch               general          8     FAILED      1:0 
48609675.ex+     extern               general          8  COMPLETED      0:0 
[ad2046@amarel1 llm-research]$ scontrol show job 48609675
JobId=48609675 JobName=gsm8k_eval
   UserId=ad2046(1759478) GroupId=ad2046(1759478) MCS_label=N/A
   Priority=730 Nice=0 Account=general QOS=normal
   JobState=FAILED Reason=NonZeroExitCode Dependency=(null)
   Requeue=0 Restarts=0 BatchFlag=1 Reboot=0 ExitCode=1:0
   RunTime=00:00:02 TimeLimit=1-00:00:00 TimeMin=N/A
   SubmitTime=2025-12-04T00:19:45 EligibleTime=2025-12-04T00:19:45
   AccrueTime=2025-12-04T00:19:45
   StartTime=2025-12-04T00:19:46 EndTime=2025-12-04T00:19:48 Deadline=N/A
   PreemptEligibleTime=2025-12-04T00:19:46 PreemptTime=None
   SuspendTime=None SecsPreSuspend=0 LastSchedEval=2025-12-04T00:19:46 Scheduler=Backfill
   Partition=gpu AllocNode:Sid=amarel1:5868
   ReqNodeList=(null) ExcNodeList=(null)
   NodeList=gpu005
   BatchHost=gpu005
   NumNodes=1 NumCPUs=8 NumTasks=1 CPUs/Task=8 ReqB:S:C:T=0:0:*:*
   ReqTRES=cpu=8,mem=64G,node=1,billing=8,gres/gpu=1
   AllocTRES=cpu=8,mem=64G,node=1,billing=8,gres/gpu=1
   Socks/Node=* NtasksPerN:B:S:C=0:0:*:* CoreSpec=*
   MinCPUsNode=8 MinMemoryNode=64G MinTmpDiskNode=0
   Features=(null) DelayBoot=00:00:00
   OverSubscribe=OK Contiguous=0 Licenses=(null) Network=(null)
   Command=/cache/home/ad2046/llm-research/run_gsm8k_eval_amarel.sh
   WorkDir=/cache/home/ad2046/llm-research
   StdErr=/cache/home/ad2046/llm-research/gsm8k_eval_48609675.err
   StdIn=/dev/null
   StdOut=/cache/home/ad2046/llm-research/gsm8k_eval_48609675.out
   Power=
   TresPerNode=gres:gpu:1
   MailUser=$USER@rutgers.edu MailType=END,FAIL
   

[ad2046@amarel1 llm-research]$ cd ..
[ad2046@amarel1 ~]$ ls
docs  llm-research  projects
[ad2046@amarel1 ~]$ cat gsm8k_eval_48609675.err
cat: gsm8k_eval_48609675.err: No such file or directory
[ad2046@amarel1 ~]$ cd llm-research/
[ad2046@amarel1 llm-research]$ ls
AMAREL_INSTRUCTIONS.md    LICENSE                   speedrun.sh
dev                       nanochat                  tasks
eval_gsm8k_all_models.py  pyproject.toml            test_hf_model.py
exploration               README.md                 tests
generate_eval_summary.py  run1000.sh                uv.lock
gsm8k_eval_48609675.err   run_gsm8k_eval_amarel.sh  visualize_gsm8k_results.py
gsm8k_eval_48609675.out   rustbpe
index.html                scripts
[ad2046@amarel1 llm-research]$ cat gsm8k_eval_48609675.err'
> ^C
[ad2046@amarel1 llm-research]$ cat gsm8k_eval_48609675.err
Error: [Errno 13] Permission denied: '/var/lib/slurm/slurmd/job48609675/.venv'
/var/lib/slurm/slurmd/job48609675/slurm_script: line 75: .venv/bin/activate: No such file or directory
/var/lib/slurm/slurmd/job48609675/slurm_script: line 76: pip: command not found
/var/lib/slurm/slurmd/job48609675/slurm_script: line 77: pip: command not found
/var/lib/slurm/slurmd/job48609675/slurm_script: line 78: pip: command not found
Python 2.7.5
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ImportError: No module named torch
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ImportError: No module named torch
Traceback (most recent call last):
  File "<string>", line 1, in <module>
ImportError: No module named torch
[ad2046@amarel1 llm-research]$ cat gsm8k_eval_48609675.out
==========================================
Job ID: 48609675
Job Name: gsm8k_eval
Node: gpu005
Start Time: Thu Dec  4 00:19:47 EST 2025
Working Directory: /home/ad2046/llm-research
User: ad2046
Home: /home/ad2046
==========================================
Repository directory: /var/lib/slurm/slurmd/job48609675
Cache directory: /home/ad2046/.cache/nanochat
Using system Python with venv...
==========================================
GPU Information:
Thu Dec  4 00:19:47 2025       
+---------------------------------------------------------------------------------------+
| NVIDIA-SMI 535.154.05             Driver Version: 535.154.05   CUDA Version: 12.2     |
|-----------------------------------------+----------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |
|                                         |                      |               MIG M. |
|=========================================+======================+======================|
|   0  Quadro M6000                   On  | 00000000:02:00.0 Off |                  Off |
| 25%   32C    P8              16W / 250W |      1MiB / 12288MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
|   1  Quadro M6000                   On  | 00000000:03:00.0 Off |                  Off |
| 25%   33C    P8              16W / 250W |      1MiB / 12288MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
|   2  Quadro M6000                   On  | 00000000:82:00.0 Off |                  Off |
| 25%   31C    P8              15W / 250W |      1MiB / 12288MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
|   3  Quadro M6000                   On  | 00000000:83:00.0 Off |                  Off |
| 25%   31C    P8              16W / 250W |      1MiB / 12288MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
                                                                                         
+---------------------------------------------------------------------------------------+
| Processes:                                                                            |
|  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
|        ID   ID                                                             Usage      |
|=======================================================================================|
|  No running processes found                                                           |
+---------------------------------------------------------------------------------------+
==========================================
Python version: 
PyTorch version: 
CUDA available: 
==========================================
Using /scratch for output (auto-purged after 90 days)
Output directory: /scratch/ad2046/gsm8k_eval_results/job_48609675
Starting GSM8K evaluation...
Results will be saved to: /scratch/ad2046/gsm8k_eval_results/job_48609675
==========================================
python: can't open file 'eval_gsm8k_all_models.py': [Errno 2] No such file or directory
ERROR: No results file found!
[ad2046@amarel1 llm-research]$ 
[ad2046@amarel1 llm-research]$ module avail python

------------------------------------ /opt/sw/modulefiles/Core ------------------------------------
   python/2.7.12    python/3.8.2 (D)

  Where:
   D:  Default Module

If the avail list is too long consider trying:

"module --default avail" or "ml -d av" to just list the default modules.
"module overview" or "ml ov" to display the number of modules for each name.

Use "module spider" to find all possible modules and extensions.
Use "module keyword key1 key2 ..." to search for all possible modules matching any of the "keys".


[ad2046@amarel1 llm-research]$ 
[ad2046@amarel1 llm-research]$ which python3
/usr/bin/python3
[ad2046@amarel1 llm-research]$ module avail python3
No module(s) or extension(s) found!
If the avail list is too long consider trying:

"module --default avail" or "ml -d av" to just list the default modules.
"module overview" or "ml ov" to display the number of modules for each name.

Use "module spider" to find all possible modules and extensions.
Use "module keyword key1 key2 ..." to search for all possible modules matching any of the "keys".


[ad2046@amarel1 llm-research]$ python3 --version
Python 3.6.8
[ad2046@amarel1 llm-research]$ module load python/3.10 
Lmod has detected the following error:  The following module(s) are unknown:
"python/3.10"

Please check the spelling or version number. Also try "module spider ..."
It is also possible your cache file is out-of-date; it may help to try:
  $ module --ignore_cache load "python/3.10"

Also make sure that all modulefiles written in TCL start with the string #%Module



[ad2046@amarel1 llm-research]$ module load python/3.8.2
[ad2046@amarel1 llm-research]$ cd ..
[ad2046@amarel1 ~]$ git clone https://github.com/AkeBoss-tech/llm-research llm-research
fatal: destination path 'llm-research' already exists and is not an empty directory.
[ad2046@amarel1 ~]$ cd llm-research/
[ad2046@amarel1 llm-research]$ git pull
remote: Enumerating objects: 5, done.
remote: Counting objects: 100% (5/5), done.
remote: Compressing objects: 100% (1/1), done.
remote: Total 3 (delta 2), reused 3 (delta 2), pack-reused 0 (from 0)
Unpacking objects: 100% (3/3), done.
From https://github.com/AkeBoss-tech/llm-research
   0807ddb..77fe231  master     -> origin/master
Updating 0807ddb..77fe231
Fast-forward
 run_gsm8k_eval_amarel.sh | 39 ++++++++++++++++++++++++++++-----------
 1 file changed, 28 insertions(+), 11 deletions(-)
[ad2046@amarel1 llm-research]$ ls -la run_gsm8k_eval_amarel.sh
-rwxrwxr-x 1 ad2046 ad2046 8164 Dec  4 00:29 run_gsm8k_eval_amarel.sh
[ad2046@amarel1 llm-research]$ sbatch run_gsm8k_eval_amarel.sh
Submitted batch job 48609979
[ad2046@amarel1 llm-research]$ squeue -u $USER
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
          48609979       gpu gsm8k_ev   ad2046  R       0:01      1 gpu030
[ad2046@amarel1 llm-research]$ tail -f gsm8k_eval_JOBID.out
tail: cannot open ‘gsm8k_eval_JOBID.out’ for reading: No such file or directory
tail: no files remaining
[ad2046@amarel1 llm-research]$ sacct
JobID           JobName  Partition    Account  AllocCPUS      State ExitCode 
------------ ---------- ---------- ---------- ---------- ---------- -------- 
48609675     gsm8k_eval        gpu    general          8     FAILED      1:0 
48609675.ba+      batch               general          8     FAILED      1:0 
48609675.ex+     extern               general          8  COMPLETED      0:0 
48609979     gsm8k_eval        gpu    general          8    RUNNING      0:0 
48609979.ba+      batch               general          8    RUNNING      0:0 
48609979.ex+     extern               general          8    RUNNING      0:0 
[ad2046@amarel1 llm-research]$ 